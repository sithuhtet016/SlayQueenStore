import{w as u,a as h,p as e,v as d}from"./chunk-WWGJGFF6-ES-ljSok.js";import{p as b,N as f,r as j}from"./Navbar-DmYzGiVw.js";import{u as g}from"./cart-context-CXb5IG81.js";const N=b,I=u(function(){const{items:r,cartCount:v,updateQuantity:o}=g(),i=h.useMemo(()=>r.map(t=>{const s=N.find(c=>c.id===t.productId),n=s?.variants?.find(c=>c.id===t.variantId);return{item:t,product:s,variant:n}}),[r]),l=r.length>0,x=i.reduce((t,s)=>{const n=s.variant?.price??s.product?.price??0;return t+n*s.item.quantity},0),m=i.find(t=>t.product)?.product?.currency??"AED",a=t=>{try{return new Intl.NumberFormat("en-AE",{style:"currency",currency:m,minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{return`${m} ${t}`}};return e.jsxs("div",{className:"min-w-[402px] min-h-screen mt-[72px]",children:[e.jsx(f,{}),e.jsxs("section",{className:"px-4 md:px-7 py-6 md:py-9",children:[e.jsx("h1",{className:"text-[28px] font-bold text-[#3D2645] mb-2",children:"Cart Items"}),e.jsx("p",{className:"text-[14px] text-[#2B2520] font-semibold mb-5",children:"Review your picks and adjust quantities below."}),!l&&e.jsxs("div",{className:"min-h-[90vh] bg-white rounded-2xl p-6 shadow-sm flex flex-col items-center justify-center text-center gap-4",children:[e.jsx("p",{className:"text-[#2B2520] text-[24px] font-semibold mb-2",children:"Your cart is empty."}),e.jsx(d,{to:"/categories",className:"text-[14px] bg-[#D4AF37] text-[#3D2645] font-bold px-6 py-3 rounded-lg hover:bg-[#b8962e] transition-colors",children:"Continue Shopping"})]}),l&&e.jsxs("div",{className:"space-y-5",children:[i.map(({item:t,product:s,variant:n})=>{const p=(n?.price??s?.price??0)*t.quantity;return e.jsxs("div",{className:"bg-white rounded p-4 shadow-sm flex gap-4 items-center",children:[e.jsx("div",{className:"w-20 h-24 flex items-center justify-center rounded-lg",children:e.jsx("img",{src:j(n?.image||s?.images?.[0]||"/assets/icons/image-regular-full.svg"),alt:s?.name??`Product #${t.productId}`,className:"max-h-20 max-w-20 object-contain"})}),e.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[12px] font-bold text-[#3D2645] leading-snug line-clamp-2",children:s?.name??`Product #${t.productId}`}),n&&e.jsxs("p",{className:"text-[12px] text-[#3D2645]/70",children:["Color: ",n.name]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2 rounded-lg px-2 py-1",children:[e.jsx("button",{type:"button",className:"h-7 w-7 rounded bg-[#F5E6C0] text-[#3D2645] font-bold",onClick:()=>o(t.productId,n?.id,t.quantity-1),children:"âˆ’"}),e.jsx("span",{className:"w-6 text-center font-bold text-[#3D2645]",children:t.quantity}),e.jsx("button",{type:"button",className:"h-7 w-7 rounded bg-[#D4AF37] text-[#3D2645] font-bold",onClick:()=>o(t.productId,n?.id,t.quantity+1),children:"+"})]})})]}),e.jsxs("div",{className:"flex flex-col items-end text-right text-[#D4AF37] font-bold text-[18px]",children:[a(p),e.jsx("button",{type:"button",className:"block mt-2 text-[12px] text-[#3D2645] hover:text-[#b8962e] font-semibold btn-transition focus-ring",onClick:()=>o(t.productId,n?.id,0),children:"Remove"})]})]},`${t.productId}-${n?.id??"base"}`)}),e.jsx(d,{to:"/categories",className:"block text-center bg-[#B97C86] text-white font-bold px-4 py-3 rounded-lg hover:bg-[#a36b74] transition-colors",children:"Continue Shopping"}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"text-[18px] font-bold text-[#3D2645] mb-3",children:"Order Summary"}),e.jsxs("div",{className:"flex justify-between text-[14px] text-[#2B2520] font-medium mb-2",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:a(x)})]}),e.jsxs("div",{className:"flex justify-between text-[14px] text-[#2B2520] font-medium mb-4",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:"Free"})]}),e.jsxs("div",{className:"flex justify-between text-[16px] font-bold text-[#3D2645]",children:[e.jsx("span",{children:"TOTAL"}),e.jsx("span",{children:a(x)})]})]}),e.jsx(d,{to:"/checkout",className:"block text-center bg-[#D4AF37] text-[#3D2645] font-bold px-4 py-3 rounded-lg hover:bg-[#b8962e] transition-colors",children:"Proceed to Checkout"})]})]})]})});export{I as default};
